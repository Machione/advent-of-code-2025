from .puzzle2 import add_quantum_numbers, solve

test_data = """.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............
...^.^...^.^...
...............
..^...^.....^..
...............
.^.^.^.^.^...^.
..............."""


def test_add_quantum_numbers_simple() -> None:
    data = """.......S.......
...............
.......^.......
...............
......^.^......
..............."""
    expected = [
        [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
    ]
    actual = add_quantum_numbers(data)
    assert actual == expected

    data = """.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
..............."""
    expected = [
        [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0, 0, 0],
    ]
    actual = add_quantum_numbers(data)
    assert actual == expected


def test_add_quantum_numbers() -> None:
    expected = [
        [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0, 0, 0],
        [0, 0, 0, 1, 0, 4, 0, 3, 3, 1, 0, 1, 0, 0, 0],
        [0, 0, 0, 1, 0, 4, 0, 3, 3, 1, 0, 1, 0, 0, 0],
        [0, 0, 1, 0, 5, 0, 4, 3, 4, 0, 2, 0, 1, 0, 0],
        [0, 0, 1, 0, 5, 0, 4, 3, 4, 0, 2, 0, 1, 0, 0],
        [0, 1, 0, 1, 5, 4, 0, 7, 4, 0, 2, 1, 0, 1, 0],
        [0, 1, 0, 1, 5, 4, 0, 7, 4, 0, 2, 1, 0, 1, 0],
        [1, 0, 2, 0, 10, 0, 11, 0, 11, 0, 2, 1, 1, 0, 1],
        [1, 0, 2, 0, 10, 0, 11, 0, 11, 0, 2, 1, 1, 0, 1],
    ]
    actual = add_quantum_numbers(test_data)
    assert actual == expected


def test_solve() -> None:
    expected = 40
    actual = solve(test_data)
    assert actual == expected
